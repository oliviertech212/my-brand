<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>oliviertech</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="icon" href="../images/og.ico" />
    <!-- fontawersome -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <!-- <script src="https://kit.fontawesome.com/6eef1430d0.js" crossorigin="anonymous"></script>  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />
    <!-- google font robot Alconica -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Aclonica&family=Roboto&family=Rubik:wght@400;800&display=swap" rel="stylesheet"> -->
    <link
      href="https://fonts.googleapis.com/css2?family=Aclonica&family=Alegreya+Sans&family=Roboto&family=Rubik:wght@400;800&display=swap"
      rel="stylesheet"
    />

    <!-- single blog -->
    <style>
      /* font-family: 'Aclonica', sans-serif;
font-family: 'Alegreya Sans', sans-serif;
font-family: 'Roboto', sans-serif;
font-family: 'Rubik', sans-serif; */
      .single-blog {
        margin-top: 100px;
        margin-left: 70px;
        margin-right: 70px;
        word-wrap: break-word;
      }
      .single-blog h1 {
        /* text-align: center; */
        float: left;
        font-family: "Roboto", sans-serif;
        font-family: "Rubik", sans-serif;
        border-bottom: 2px solid cadetblue;
        width: fit-content;
        margin: auto;
        font-size: 50px;
      }
      .single-blog .blog-section {
        display: flex;
        border-radius: 10px;
        /* padding: 20px; */
        max-height: 600px;
        margin: 0px auto 30px auto;
        overflow: hidden;
      }
      .single-blog .blog-desc .like-comment {
        margin-top: 20px;
        /* float: left; */
        font-style: normal;
        font-weight: 300;
        font-size: 25px;
        line-height: 22px;
        display: flex;
        margin-left: 30px;
      }
      #comt {
        display: flex;
        /* border: 2px solid blue; */
      }
      #user {
        display: none;
      }
      .single-blog .blog-desc .like-comment span i {
        font-size: 30px;
        color: #00adb5;
        padding-left: 10px;
        cursor: pointer;
      }
      /* span for comment nbr */
      .cmtnbr {
        font-size: smaller;
        position: relative;
        top: -5px;
        left: 5px;
      }
      .single-blog .material-symbols-outlined {
        padding-left: 10px;
        cursor: pointer;
        font-size: 30px;
        color: #00adb5;
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 48;
      }
      .single-blog .blog-desc {
        padding-top: 0px;
        padding-left: 20px;
        font-family: "Rubik", sans-serif;
        /* overflow-y: scroll; */
        overflow-y: auto;
        /* height:100%; */
      }

      #readLess {
        margin-top: 20px;
        background-color: #00adb5;
        padding: 10px;
        font-size: 12px;
        height: 30px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0 20px;
        color: white;
        font-weight: bold;
        border: none;
        border-radius: 2px;
        transition: all 0.2s ease-in-out;
      }

      #readLess span {
        margin-left: 10px;
      }
      #readLess span i {
        font-size: 10px;
        display: flex;
        align-items: center;
      }

      .single-blog .blog-desc h2 {
        font-size: 30px;
      }
      .single-blog .blog-desc p {
        font-size: 20px;
        font-weight: 100;
        line-height: 30px;
      }
      /* style for coment form */
      /* .single-blog .blog-desc .user{
    float: left;
    /* margin-top: 20px; */
      /* display:flex; */
      /* } */
      .user label {
        /* font-size: small; */
        color: black;
      }
      .user #form .input-txt {
        width: 30%;
        border: 2px solid gray;
      }
      .user .cmt {
        margin-top: 20px;
        background-color: #00adb5;
        width: 40%;
        border: 2px solid gray;
        border-radius: 10px;
        padding: 5px;
        word-wrap: break-word;
      }
      .user .cmt #date {
        color: aliceblue;
        font-size: small;
      }

      @media (max-width: 480px) {
        .single-blog {
          /* background-color: #00ADB5; */
          margin-top: 50px;
          margin-left: 10px;
          margin-right: 10px;
        }
        .single-blog h1 {
          font-size: 30px;

          float: left;
        }
        .single-blog .blog-section {
          flex-direction: column;
          width: 100%;
          padding: 5px;
          max-height: fit-content;
        }
        .single-blog .blog .blog-pc .mobile {
          width: 90%;
          height: 300px;
          border-radius: 5px;
        }

        .single-blog .blog .like-comment {
          font-size: 15px;
        }
        .single-blog .blog .like-comment span i {
          font-size: 15px;
        }
        .single-blog .material-symbols-outlined {
          font-size: 15px;
        }
        .single-blog .blog-desc {
          padding-left: 0px;
          overflow-y: unset;
        }
        .single-blog .blog-desc h2 {
          font-size: 20px;
        }
        .single-blog .blog-desc p {
          font-size: 15px;
          line-height: 20px;
        }
      }
      @media (min-width: 481px) and (max-width: 768px) {
        .single-blog h1 {
          font-size: 40px;
          width: 100%;
          float: left;
        }
        .single-blog .blog-section {
          flex-direction: column;
          width: 100%;
          padding: 5px;
          max-height: fit-content;
        }
        .single-blog .blog .blog-pc .mobile {
          width: 90%;
          height: 400px;
          border-radius: 5px;
        }

        .single-blog .blog .like-comment {
          font-size: 20px;
        }
        .single-blog .blog .like-comment span i {
          font-size: 20px;
        }
        .single-blog .material-symbols-outlined {
          font-size: 20px;
        }
        .single-blog .blog-desc {
          padding-left: 0px;
          overflow-y: unset;
          /* background-color: #00adb5; */
        }
        .single-blog .blog-desc h2 {
          font-size: 25px;
        }
        .single-blog .blog-desc p {
          font-size: 20px;
          line-height: 20px;
        }
      }
      @media (min-width: 768px) and (max-width: 1024px) {
        .single-blog .blog-section {
          flex-direction: column;
          width: 100%;
          padding: 5px;
          max-height: fit-content;
        }
        .single-blog .blog .blog-pc .mobile {
          width: 90%;
          height: 400px;
          border-radius: 5px;
        }

        .single-blog .blog-desc .like-comment {
          font-size: 20px;
        }
        .single-blog .blog-desc .like-comment span i {
          font-size: 20px;
        }
        .single-blog .material-symbols-outlined {
          font-size: 20px;
        }
        .single-blog .blog-desc {
          padding-left: 0px;
          overflow-y: unset;
        }
        .single-blog .blog-desc h2 {
          font-size: 25px;
        }
        .single-blog .blog-desc p {
          font-size: 20px;
          line-height: 20px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <a href="../index.html">
          <img class="logo" src="../images/logo.png" alt="" />
        </a>
        <button id="menuicon" class="menu-btn">
          <i class="fa-sharp fa-solid fa-bars"></i>
        </button>
        <ul class="nav-links">
          <li><a href="../index.html">Home</a></li>
          <li><a href="./about.html">About</a></li>
          <li><a href="./skills.html">Skills</a></li>
          <li><a href="./works.html">Works</a></li>
          <li><a href="./blogs.html" class="active">Blogs</a></li>
          <li><a href="./contact.html">Contact</a></li>
          <li>
            <a href="./login.html"><button id="logedin">Login</button></a>
          </li>
        </ul>
      </nav>
      <div id="mainmenu" class="mobile">
        <ul class="nav-links">
          <li><a href="../index.html">Home</a></li>
          <li><a href="./about.html">About</a></li>
          <li><a href="./skills.html">Skills</a></li>
          <li><a href="./works.html">Works</a></li>
          <li><a href="./blogs.html" class="active">Blogs</a></li>
          <li><a href="./contact.html">Contact</a></li>
          <li>
            <a href="./login.html"><button id="mobileLogedin">Login</button></a>
          </li>
        </ul>
      </div>
    </header>

    <section class="blog-section">
      <div class="head-desc">
        <h1>Blogs</h1>
        <hr />
      </div>
      <div id="blog-section">
        <!-- <div id="loader" class="loader"></div>
        <div class="blog-container" id="blog-container"></div> -->
      </div>

      <!-- <div id="single-blog" class="single-blog"></div> -->
    </section>

    <footer>
      <img class="logo" src="../images/images-removebg-preview.png" alt="" />
      <p>
        <i class="fa-regular fa-copyright"></i>Copyright 2022. Designed by
        olivier
      </p>
      <span>
        <a href="https://www.facebook.com/profile.php?id=100005753869027">
          <i class="fa-brands fa-facebook"></i>
        </a>
        <a href="https://twitter.com/Olivier88798962">
          <i class="fa-brands fa-twitter"></i>
        </a>
        <a href="https://www.linkedin.com/in/olivier-ganishuri-279aaa240/">
          <i class="fa-brands fa-linkedin"></i>
        </a>
        <a href="https://github.com/oliviertech212">
          <i class="fa-brands fa-github"></i>
        </a>
      </span>
    </footer>

    <script type="module">
      const token = localStorage.getItem("token");
      let blogDisplay = document.querySelector(".blog-container");
      let loader = document.getElementById("loader");

      async function displayMessages() {
        loader.style.display = "block";
        blogDisplay.style.visibility = "hidden";
        await fetch("https://expensive-newt-tiara.cyclic.app/articles/getall", {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
            Authorization: `Bearer ${token}`,
          },
        })
          .then(async (res) => await res.json())
          .then((blog) => {
            blog.article.forEach((blog) => {
              let createdAt = blog.createdAt;
              let date = new Date(createdAt);
              let dateString = date.toDateString();
              console.log(blog);
              blogDisplay.insertAdjacentHTML(
                "beforeend",
                ` <div class="blog">
                     <p class="date">${dateString}</p>
                     <h1>${blog.title}</h1>
                     <div class="blog-pc">
                     <img  class="mobile"  src="${blog.image}" alt="">
                     </div>
                     <div id="blog-desc" class="blog-desc">${
                       blog.content.trim().slice(0, 120) + "...."
                     }</div>
                     <div>
                        <button  id="readmore"  class="readmore" data-b-id="${
                          blog._id
                        } " type="button">
                         Read more
                          <span>
                              <i class="fa-solid fa-arrow-right"></i>
                          </span>
                            
                           
                            
                        </button>

                     </div>

                 </div>
                `
              );
            });

            loader.style.display = "none";
            blogDisplay.style.visibility = "visible";
          })
          .catch((err) => {
            // document.getElementById("contentTomange").innerHTML = err;
            console.log(err);
          });
      }
      // displayMessages();

      blogDisplay.addEventListener("click", async (e) => {
        if (e.target.classList.contains("readmore")) {
          window.location.href = "./singlepage.html?id=" + e.target.dataset.bId;
        }

        //   add like an dcomment
        // if (e.target.classList.contains("like")) {
        //   document.querySelectorAll(".like").forEach((i, index) => {
        //     console.log(i);
        //   });
        // }
      });
    </script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>

    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script src="../js/react.js" type="text/babel"></script>
    <script type="module" src="../js/script.js"></script>
  </body>
</html>
